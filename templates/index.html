{% extends 'base.html' %}
{% load static %}

{% block style %}
<link rel="stylesheet" href="{% static 'styles/index.css' %}">
<script src="https://cdn.jsdelivr.net/npm/chart.js@2.9.3/dist/Chart.min.js"></script>
{% endblock style %}

{% block title %}Coupon System{% endblock title %}

{% block content %}
<div class="row">

{% if user.profile.role != "MR" %}
<div class="col-md-6">
  <div class="jumbotron same-height">
    <h1 class="display-4 jumbo-header">Treasurer</h1>
    <p class="lead">I am a booth treasurer. Login to register coupon spending at booth.</p>
    <hr class="my-4">
      <a class="btn btn-success btn-lg fill-jumbotron" href="{% url 'treasurer' %}" role="button">Input coupons</a>
  </div>
</div>
{% endif %}

{% if user.profile.role != "TR" %}
<div class="col-md-6">
  <div class="jumbotron same-height">
    <h1 class="display-4 jumbo-header">Manager</h1>
    <p class="lead">I am a coupon manager. Login to monitor coupon spending and status.</p>
    <hr class="my-4">
      <a class="btn btn-warning btn-lg fill-jumbotron" href="{% url 'manager' %}" role="button">Manage Coupons</a>
  </div>
</div>
{% endif %}
</div>

<!-- Charts -->
<!-- Y1-4 proportion of tickets sold -->
<div class="col-md-6">
  <canvas id="pie-chart"></canvas>
</div>

<!-- TODO: Implement sortable table using django-tables-2 -->
{% if user.is_authenticated %}
<ul>
  {% for coupon in all_coupons_list %}
  <li>{{ coupon.coupon_id }} is {{ coupon.active }}</li>
  {% endfor %}
</ul>
{% endif %}

{% endblock %}